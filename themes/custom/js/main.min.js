!function(a,b,c){"use strict";var d="ajax_plugin_version_3.0";a.ajax_plugin=function(b,c){var e,f,g,h,i,j,k,l,m,n,o,p={ajax_link_class:"ajax-link",ajax_container:"ajax-container",animation_layer:"animation-layer",source_id:"ajax-source",animation_enter:"anim-enter",animation_leave:"anim-leave",plugin_page_class_name:"Unit",birds_nest_class:"birds-nest",initialise_javascript_dependencies:null,load_page_callback:null,page_loaded_callback:null,start_animation_callback:null,end_animation_callback:null,child_list:null,nav_next_frame:null,nav_prev_frame:null,url:null,abs_link:null,root:null,freezable_content:[]},q=this,r=!1,s=!1,t=!1,u=!0,v=[];q.settings={};var w=a(b),b=b,x=w.data(d+"-opts");q.init=function(){q.settings=a.extend({},p,c,x),console.log("initialised plugin "+d),w.css("position","relative"),aa(),i=a("."+q.settings.ajax_container),q.settings.child_list?M():console.log("no child list found"),y()},q.get_current_index=function(){return l};var y=function(){t&&(n=o),o=D(),t&&(o.previous_page=o);var a=t?o:B(o);console.log(a),z(a),v.reverse(),C()},z=function(a){var b;if(void 0!=a.navigate_to_child?(b=a.navigate_to_child,a.navigate_to_child=void 0):b=$(a),0==a.nest||void 0==a.nest)v.push(ga(a,i.attr("id"),!0));else if(1==a.nest){var c=A(a),d=c.urlSegment+"-"+c.id;v.push(ga(a,d,!0))}void 0!=b&&1==b.nest&&z(b)},A=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].id;d==a.parentID&&(b=k[c])}return b},B=function(a){if(0!=a.parentID){if(1==a.nest){var b=A(a);return b.navigate_to_child=a,B(b)}return a}return a},C=function(){if(v.length>0){var a=v.length-1;K(v[a]),v.pop()}},D=function(){var a,b=t?j:window.location.href;m=fa(b);for(var c=0;c<k.length;c++){var d=k[c];if(m.path_url==d.url_object.path_url){a=d,console.log("Page Found");break}}return a},E=function(a){for(var b=window.location.href,c="",d=q.settings.root,e=H(b),f=0;f<e.length&&(c+=e[f]+"/",e[f]!=d);f++);return U(c)+a.hash_url},F=function(a,b){for(var c="",d=q.settings.root,e=a.components,f=!1,g=0;g<e.length;g++)f&&(c+=e[g]+"/"),e[g]==d&&(f=!0);var h=b?"#":"/";return h+U(c)},G=function(a){for(var b="",c=q.settings.root,d=a.components,e=0;e<d.length&&(b+=d[e]+"/",d[e]!=c);e++);return U(b)},H=function(a){return a=a.replace("#",""),a.split("/")},I=function(a){for(var b=q.settings.root,c=a.tempURL.split("/"),d=-1,e=c.length-1;e>=0&&(d++,c[e]!=b);e--);return d},J=function(a){for(var b=null,c=0;c<k.length;c++)a==k[c].name&&(b=k[c]);return b},K=function(b){var c=b.page.link,d=b.animate,e=a("#"+b.containerID);0!=a(".audio-block").length&&a(".audio-block").each(function(){void 0!=a(this).data("hades_audio_player")&&a(this).data("hades_audio_player").stop()}),t=!1,X(),_(q.settings.load_page_callback);var f=e.find("."+q.settings.animation_layer);f.removeClass("style"),a.ajax(c).done(function(a){_(q.settings.page_loaded_callback),Y(e,f,a,d,c,b.page)}).fail(function(a){alert("Error: "+a.responseText)})},L=function(a,b,c){_(q.settings.start_animation_callback),W();var d=c.find("."+q.settings.animation_leave),e=c.find("."+q.settings.animation_enter),f=c.find("."+q.settings.animation_layer);if(f.addClass("running"),b){var g=parseInt(a.attr("sort")),h=parseInt(e.attr("sort")),i=c.find(".trans-page-info").attr("inc"),j=c.find(".trans-page-info").attr("dec"),k=g<h?i:j;f.addClass(k)}else f.addClass("no-animation");d.attr("style",a.attr("style")),e.attr("style",a.attr("style")),d.html(a.html()),d.css_animation_event_listener(f)},M=function(){e=q.settings.child_list.find("li"),f=e.length;var b=q.settings.child_list;k=[],b.find("li").each(function(){var b=a(this);k.push(ea(b.attr("pageID"),b.index()+1,b.attr("parentID"),b.attr("className"),b.attr("title"),U(b.attr("link")),b.attr("nest"),b.attr("segment")))}),N()},N=function(){for(var a=0;a<k.length;a++){var b=k[a];if(0!=b.parentID)for(var c=0;c<k.length;c++){var d=k[c];b.parentID==d.id&&(b.container=d.urlSegment+"-"+d.id)}}},O=function(){setTimeout(function(){a("."+q.settings.ajax_container);a(".animation-layer").css({width:"100%",height:"auto",top:0,left:0})},100)},P=function(b){var c=0!=b.parentID?Q(b):b,d="#menu-"+c.urlSegment+"-"+c.id,e=a(d);e.length>0&&(a(".nav").find("li, a").removeClass("current"),a(".nav").find("li, a").removeClass("section"),e.addClass("current"),e.find("a").addClass("current"))},Q=function(a){if(0!=a.parentID){var b=A(a);return b.navigate_to_child=a,B(b)}return a},R=function(a){var b=l;g=a.find("."+q.settings.nav_next_frame),h=a.find("."+q.settings.nav_prev_frame),g.add_click_navigation(),h.add_click_navigation(),S(),0==b&&h.css("display","none"),b==f-1&&g.css("display","none"),h.attr("href",e.eq(b-1).attr("link")),g.attr("href",e.eq(b+1).attr("link"))},S=function(){h.css("display","block"),g.css("display","block")},T=function(a){return a=U(a),a.substr(a.lastIndexOf("/")+1)},U=function(a){return"/"==a.substr(-1)&&(a=a.substr(0,a.length-1)),a},V=function(){console.log(d+" - animation finished"),C(),O()},W=function(){console.log(d+" - start animation")},X=function(){console.log(d+" - loading page"),r=!0},Y=function(a,b,c,e,f,g){console.log(d+" - page loaded"),a.html(c),P(g),R(a),aa(),_(q.settings.initialise_javascript_dependencies),L(b,e,a),u&&window.history.pushState("string","Title",g.url_object.http_url),u=!0,r=!1},Z=function(a){a=a.replace("#","/");var b=T(a),c=J(b);return c.id},$=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].parentID;d==a.id&&1==k[c].sort&&(b=k[c])}return b},_=function(a){a&&a()},aa=function(){a("a").each(function(){var b=a(this);b.hasClass("ajax-link")&&(b.hasClass("ajax-active")||(b.addClass("ajax-active"),b.add_click_function()))})},ba=function(a){"back"==a&&0!=l&&l--,"next"==a&&l<f&&l++},ca=function(a){j=a,s=!0,t=!0},da=function(a,b){return Z(a)==Z(b)};a.fn.add_click_function=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault();var c=a(this).attr("href");if(!da(window.location.href,c)){ca(c);var d=a("body").scrollTop();d>0?a("body").animate({scrollTop:"0px"},d/2,function(){y()}):y()}})})},a.fn.add_click_navigation=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault(),ba(a(this).attr("direction")),console.log(a(this).attr("href")),ca(a(this).attr("href")),y()})})},a.fn.css_animation_event_listener=function(b){return this.each(function(){a(this).bind("oanimationend animationend webkitAnimationEnd",function(){b.removeClass("running"),a(this).remove(),_(q.settings.end_animation_callback),V()})})},a(window).on("popstate",function(){console.log("Back button was pressed."),t=!0;var a=window.location.href;a=a.replace("#","/"),u=!1,ca(a),y()});var ea=function(a,b,c,d,e,f,g,h){var i={};return i.id=a,i.sort=b,i.parentID=c,i.className=d,i.name=T(f),i.title=e,i.link=f,i.nest=g,i.urlSegment=h,i.url_object=fa(f),i},fa=function(a){var b={};return b.tempURL=U(a),b.name=T(b.tempURL),b.components=H(b.tempURL),b.levelsAboveRoot=I(b),b.base_url=G(b),b.path_url=F(b,!1),b.hash_url=F(b,!0),b.http_url=E(b),b},ga=function(a,b,c){var d={};return d.animate=c,d.page=a,d.containerID=b,d};q.init()},String.prototype.replaceAt=function(a,b){return this.substr(0,a)+b+this.substr(a+b.length)},a.fn.ajax_plugin=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.ajax_plugin(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="hades_audio_player",e=477171;a.hades_audio_player=function(b,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={update_speed:1e3,solo:!1},v=this,w="hades-audio-player-"+e,x=!1,y=!0,z=[],A=!1;v.settings={};var B=a(b),b=b,C=B.data(d+"-opts");v.init=function(){v.settings=a.extend({},u,c,C),f=v.settings,console.log("initialised plugin "+d+" -- "+e),B.attr("id",w),D()},v.stop_all=function(){0!=a(".audio-block").length&&a(".audio-block").each(function(){void 0!=a(this).data("hades_audio_player")&&a(this).data("hades_audio_player").stop()})},v.stop=function(){var a=i.find(".glyphicon");_(a,"glyphicon-pause","glyphicon-play"),V()},v.play_pause=function(a){A&&P(a)},v.volume=function(a){A&&O(a)};var D=function(){H(),A&&(F(),G())},E=function(){s.currentTime>=s.duration?N():M(s.currentTime)},F=function(){k.volume_hover(),l.volume_hover(),j.volume_hover(),i.button_click(),j.button_click(),o.vertical_track(),m.horizontal_track(),q.change_track(),r.change_track()},G=function(){J(),$()},H=function(){I(),k=B.find(".audio-block-volume-hover-pad"),l=B.find(".audio-block-volume-meter"),j=B.find(".audio-block-volume-button"),i=B.find(".audio-block-play"),m=B.find(".audio-block-track"),n=B.find(".audio-block-track-line"),o=B.find(".audio-block-volume-track"),p=B.find(".audio-block-volume-track-line"),q=B.find(".glyphicon-step-backward"),r=B.find(".glyphicon-step-forward")},I=function(){if(v.settings.solo)A=!0,K(Z(0,B.find("source").attr("src"),!1,!1));else{var b=B.find(".audio-text");b.each(function(b){var c=a(this),d=(c.find("source").attr("src"),c.attr("avatar"));z.push(Z(b,c.find("source").attr("src"),!1,0!=d.length&&d))}),z.length>0?(console.log(z.length+1+" audio files found"),A=!0,K(z[0])):(console.log("no audio found"),A=!1)}},J=function(){r.show(),q.show(),0==t.id&&q.hide(),t.id==z.length-1&&r.hide()},K=function(a){t=a;for(var b=0;b<z.length;b++)z[b].current=!1,console.log(z[b].avatar);a.current=!0,0!=a.avatar&&L(a),s=new Audio(a.src)},L=function(b){var c=B.find(".bottom-wrapper");c.find(".avatar").remove(),c.prepend(a("<div>").addClass("avatar col-md-6 col-xs-12 "+b.alignment).append(a("<img>").attr("src",b.avatar)))},M=function(a){var b=a/s.duration*100;b>100?n.css("width","100%"):n.css("width",b+"%")},N=function(){s.currentTime=0,M(0),V(),_(i.find(".glyphicon"),"glyphicon-pause","glyphicon-play")},O=function(a){var b=a.find(".glyphicon");y?(y=!1,_(b,"glyphicon-volume-up","glyphicon-volume-off"),W()):(y=!0,_(b,"glyphicon-volume-off","glyphicon-volume-up"),X())},P=function(a){var b=a.find(".glyphicon");x?(_(b,"glyphicon-pause","glyphicon-play"),V()):(v.stop_all(),_(b,"glyphicon-play","glyphicon-pause"),U())},Q=function(a){s.currentTime=s.duration*a,E()},R=function(){var a=100*s.volume;p.css("height",a+"%")},S=function(){return setInterval(function(){E()},f.update_speed)},T=function(a){var b=i.find(".glyphicon");_(b,"glyphicon-pause","glyphicon-play"),V(),K(z[a]),J();var c=B.find(".audio-text");c.removeClass("current"),c.eq(a).addClass("current"),_(b,"glyphicon-play","glyphicon-pause"),U()},U=function(){x=!0,s.play(),g=S()},V=function(){x=!1,s.pause(),clearInterval(g)},W=function(){h=s.volume,s.volume=0,R()},X=function(){s.volume=h,R()},Y=function(a){y=a>0,s.volume=a,R()},Z=function(a,b,c,d){a=parseInt(a);var e=a%2?"right":"left";return{id:a,src:b,current:c,avatar:d,alignment:e}},$=function(){var a=j.width()/2+15-l.width()/2;l.css("margin-right",a+"px")},_=function(a,b,c){a.removeClass(b),a.addClass(c)};a.fn.change_track=function(){a(this).each(function(){a(this).on("click",function(){var b;v.stop_all(),a(this).hasClass("glyphicon-step-backward")&&(console.log("back"),b=t.id-1,T(b)),a(this).hasClass("glyphicon-step-forward")&&(console.log("forward"),b=t.id+1,T(b))})})},a.fn.volume_hover=function(){a(this).each(function(){a(this).on("mouseover",function(){B.find(".audio-block-volume-meter").show()}).on("mouseleave",function(){B.find(".audio-block-volume-meter").hide()})})},a.fn.button_click=function(){a(this).on("click",function(){var b=a(this).attr("action");a("#"+w).data("hades_audio_player")[b](a(this))})},a.fn.vertical_track=function(){a(this).on("click",function(b){var c=a(this).offset(),d=b.pageY-c.top,e=1-d/a(this).height();e=e>.9?1:e,e=e<.1?0:e,Y(e)})},a.fn.horizontal_track=function(){a(this).on("click",function(b){var c=a(this).offset(),d=b.pageX-c.left,e=d/a(this).width();Q(e)})},a(window).on("resize",function(){$()}),v.init()},a.fn.hades_audio_player=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.hades_audio_player(this,b,(e++));a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="app_name",e=678401;a.app_name=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h)},g.foo_public_method=function(){};a.fn.bind_event=function(a){},g.init()},a.fn.app_name=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.app_name(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="image_pre_loader",e=312584;a.image_pre_loader=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h),a(window).on("load",function(){console.log("loaded"),g.swap_images()})},g.swap_images=function(){var b=i.find("img");b.each(function(){a(this).attr("src",a(this).attr("pre"))})};a.fn.bind_event=function(a){},g.init()},a.fn.image_pre_loader=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.image_pre_loader(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";function d(b,c){console.log(h+" activated"),this.$el=a(b),this.$el.data(h,this),this.defaults={required:!0};var d=this.$el.data(h+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}var e,f,g,h="plugin name";d.prototype.init=function(){e=this,f=e.$el,g=e.defaults},a.fn.plugin_name=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window),$(window).scroll(function(){var a=$(".js-footer"),b=a.outerHeight(),c=$(document).height()-$(window).height();$(window).scrollTop()==c&&a.animate({bottom:"0px"},500,function(){a.addClass("active")}),a.hasClass("active")&&$(window).scrollTop()!=c&&(a.removeClass("active"),a.animate({bottom:"-"+b+"px"},500,function(){}))});