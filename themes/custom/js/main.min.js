!function(a,b,c){"use strict";var d="ajax_plugin_version_3.0";a.ajax_plugin=function(b,c){var e,f,g,h,i,j,k,l,m,n,o,p={ajax_link_class:"ajax-link",ajax_container:"ajax-container",animation_layer:"animation-layer",source_id:"ajax-source",animation_enter:"anim-enter",animation_leave:"anim-leave",plugin_page_class_name:"Unit",birds_nest_class:"birds-nest",initialise_javascript_dependencies:null,load_page_callback:null,page_loaded_callback:null,start_animation_callback:null,end_animation_callback:null,child_list:null,nav_next_frame:null,nav_prev_frame:null,url:null,abs_link:null,root:null,freezable_content:[]},q=this,r=!1,s=!1,t=!1,u=[];q.settings={};var v=a(b),b=b,w=v.data(d+"-opts");q.init=function(){q.settings=a.extend({},p,c,w),console.log("initialised plugin "+d),v.css("position","relative"),_(),i=a("."+q.settings.ajax_container),q.settings.child_list?L():console.log("no child list found"),x()},q.get_current_index=function(){return l};var x=function(){t&&(n=o),o=C(),t&&(o.previous_page=o);var a=t?o:A(o);y(a),u.reverse(),B()},y=function(a){var b;if(void 0!=a.navigate_to_child?(b=a.navigate_to_child,a.navigate_to_child=void 0):b=Z(a),0==a.nest||void 0==a.nest)u.push(fa(a,i.attr("id"),!0));else if(1==a.nest){var c=z(a),d=c.urlSegment+"-"+c.id;u.push(fa(a,d,!0))}void 0!=b&&1==b.nest&&y(b)},z=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].id;d==a.parentID&&(b=k[c])}return b},A=function(a){if(0!=a.parentID){if(1==a.nest){var b=z(a);return b.navigate_to_child=a,A(b)}return a}return a},B=function(){if(u.length>0){var a=u.length-1;J(u[a]),u.pop()}},C=function(){var a,b=t?j:window.location.href;m=ea(b);for(var c=0;c<k.length;c++){var d=k[c];if(m.path_url==d.url_object.path_url){a=d,console.log("Page Found");break}}return a},D=function(a){for(var b=window.location.href,c="",d=q.settings.root,e=G(b),f=0;f<e.length&&(c+=e[f]+"/",e[f]!=d);f++);return T(c)+a.hash_url},E=function(a,b){for(var c="",d=q.settings.root,e=a.components,f=!1,g=0;g<e.length;g++)f&&(c+=e[g]+"/"),e[g]==d&&(f=!0);var h=b?"#":"/";return h+T(c)},F=function(a){for(var b="",c=q.settings.root,d=a.components,e=0;e<d.length&&(b+=d[e]+"/",d[e]!=c);e++);return T(b)},G=function(a){return a=a.replace("#",""),a.split("/")},H=function(a){for(var b=q.settings.root,c=a.tempURL.split("/"),d=-1,e=c.length-1;e>=0&&(d++,c[e]!=b);e--);return d},I=function(a){for(var b=null,c=0;c<k.length;c++)a==k[c].name&&(b=k[c]);return b},J=function(b){var c=b.page.link,d=b.animate,e=a("#"+b.containerID);console.log("load url:- "+c),console.log("container:- "+e.attr("class")),t=!1,W(),$(q.settings.load_page_callback);var f=e.find("."+q.settings.animation_layer);f.removeClass("style"),a.ajax(c).done(function(a){$(q.settings.page_loaded_callback),X(e,f,a,d,c,b.page)}).fail(function(a){alert("Error: "+a.responseText)})},K=function(a,b,c){$(q.settings.start_animation_callback),V();var d=c.find("."+q.settings.animation_leave),e=c.find("."+q.settings.animation_enter),f=c.find("."+q.settings.animation_layer);if(f.addClass("running"),b){var g=parseInt(a.attr("sort")),h=parseInt(e.attr("sort")),i=c.find(".trans-page-info").attr("inc"),j=c.find(".trans-page-info").attr("dec");console.log("previous_sort_value: "+g),console.log("current_sort_value: "+h);var k=g<h?i:j;f.addClass(k)}else f.addClass("no-animation");d.attr("style",a.attr("style")),e.attr("style",a.attr("style")),d.html(a.html()),d.css_animation_event_listener(f)},L=function(){e=q.settings.child_list.find("li"),f=e.length;var b=q.settings.child_list;k=[],b.find("li").each(function(){var b=a(this);k.push(da(b.attr("pageID"),b.index()+1,b.attr("parentID"),b.attr("className"),b.attr("title"),T(b.attr("link")),b.attr("nest"),b.attr("segment")))}),M()},M=function(){for(var a=0;a<k.length;a++){var b=k[a];if(0!=b.parentID)for(var c=0;c<k.length;c++){var d=k[c];b.parentID==d.id&&(b.container=d.urlSegment+"-"+d.id)}}},N=function(){setTimeout(function(){a("."+q.settings.ajax_container);a(".animation-layer").css({width:"100%",height:"auto",top:0,left:0})},100)},O=function(b){var c=0!=b.parentID?P(b):b,d="#menu-"+c.urlSegment+"-"+c.id,e=a(d);e.length>0&&(a(".nav").find("li, a").removeClass("current"),a(".nav").find("li, a").removeClass("section"),e.addClass("current"),e.find("a").addClass("current"))},P=function(a){if(0!=a.parentID){var b=z(a);return b.navigate_to_child=a,A(b)}return a},Q=function(a){var b=l;g=a.find("."+q.settings.nav_next_frame),h=a.find("."+q.settings.nav_prev_frame),g.add_click_navigation(),h.add_click_navigation(),R(),0==b&&h.css("display","none"),b==f-1&&g.css("display","none"),h.attr("href",e.eq(b-1).attr("link")),g.attr("href",e.eq(b+1).attr("link"))},R=function(){h.css("display","block"),g.css("display","block")},S=function(a){return a=T(a),a.substr(a.lastIndexOf("/")+1)},T=function(a){return"/"==a.substr(-1)&&(a=a.substr(0,a.length-1)),a},U=function(){console.log(d+" - animation finished"),B(),N()},V=function(){console.log(d+" - start animation")},W=function(){console.log(d+" - loading page"),r=!0},X=function(a,b,c,e,f,g){console.log(d+" - page loaded"),a.html(c),O(g),Q(a),_(),$(q.settings.initialise_javascript_dependencies),K(b,e,a),window.history.pushState("string","Title",g.url_object.http_url),r=!1},Y=function(a){a=a.replace("#","/");var b=S(a),c=I(b);return c.id},Z=function(a){for(var b,c=0;c<k.length;c++){var d=k[c].parentID;d==a.id&&1==k[c].sort&&(b=k[c])}return b},$=function(a){a&&a()},_=function(){a("a").each(function(){var b=a(this);b.hasClass("ajax-link")&&(b.hasClass("ajax-active")||(b.addClass("ajax-active"),b.add_click_function()))})},aa=function(a){"back"==a&&0!=l&&l--,"next"==a&&l<f&&l++},ba=function(a){j=a,s=!0,t=!0},ca=function(a,b){return Y(a)==Y(b)};a.fn.add_click_function=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault();var c=a(this).attr("href");if(!ca(window.location.href,c)){ba(c);var d=a("body").scrollTop();d>0?a("body").animate({scrollTop:"0px"},d/2,function(){x()}):x()}})})},a.fn.add_click_navigation=function(b){return this.each(function(){a(this).on("click",function(b){b.preventDefault(),aa(a(this).attr("direction")),ba(a(this).attr("href")),x()})})},a.fn.css_animation_event_listener=function(b){return this.each(function(){a(this).bind("oanimationend animationend webkitAnimationEnd",function(){b.removeClass("running"),a(this).remove(),$(q.settings.end_animation_callback),U()})})};var da=function(a,b,c,d,e,f,g,h){var i={};return i.id=a,i.sort=b,i.parentID=c,i.className=d,i.name=S(f),i.title=e,i.link=f,i.nest=g,i.urlSegment=h,i.url_object=ea(f),i},ea=function(a){var b={};return b.tempURL=T(a),b.name=S(b.tempURL),b.components=G(b.tempURL),b.levelsAboveRoot=H(b),b.base_url=F(b),b.path_url=E(b,!1),b.hash_url=E(b,!0),b.http_url=D(b),b},fa=function(a,b,c){var d={};return d.animate=c,d.page=a,d.containerID=b,d};q.init()},String.prototype.replaceAt=function(a,b){return this.substr(0,a)+b+this.substr(a+b.length)},a.fn.ajax_plugin=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.ajax_plugin(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="hades_audio_player",e=477171;a.hades_audio_player=function(b,c){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t={update_speed:1e3},u=this,v=e,w=!1,x=!0;u.settings={};var y=a(b),b=b,z=y.data(d+"-opts");u.init=function(){u.settings=a.extend({},t,c,z),f=u.settings,console.log("initialised plugin "+d+" -- "+v),A()},u.play_pause=function(a){H(a)},u.volume=function(a){G(a)};var A=function(){D(),C()},B=function(){s.currentTime>=s.duration?F():E(s.currentTime)},C=function(){k.volume_hover(),l.volume_hover(),j.volume_hover(),i.button_click(),j.button_click(),q.vertical_track(),o.horizontal_track()},D=function(){m=y.find("audio"),n=y.find("source"),s=new Audio(n.attr("src")),k=y.find(".audio-block-volume-hover-pad"),l=y.find(".audio-block-volume-meter"),j=y.find(".audio-block-volume-button"),i=y.find(".audio-block-play"),o=y.find(".audio-block-track"),p=y.find(".audio-block-track-line"),q=y.find(".audio-block-volume-track"),r=y.find(".audio-block-volume-track-line")},E=function(a){var b=a/s.duration*100;b>100?p.css("width","100%"):p.css("width",b+"%")},F=function(){s.currentTime=0,E(0),M(),Q(i.find(".glyphicon"),"glyphicon-pause","glyphicon-play")},G=function(a){var b=a.find(".glyphicon");x?(x=!1,Q(b,"glyphicon-volume-up","glyphicon-volume-off"),N()):(x=!0,Q(b,"glyphicon-volume-off","glyphicon-volume-up"),O())},H=function(a){var b=a.find(".glyphicon");w?(Q(b,"glyphicon-pause","glyphicon-play"),M()):(Q(b,"glyphicon-play","glyphicon-pause"),L())},I=function(a){s.currentTime=s.duration*a,B()},J=function(){var a=100*s.volume;r.css("height",a+"%")},K=function(){return setInterval(function(){B()},f.update_speed)},L=function(){w=!0,s.play(),g=K()},M=function(){w=!1,s.pause(),clearInterval(g)},N=function(){h=s.volume,s.volume=0,J()},O=function(){s.volume=h,J()},P=function(a){x=a>0,s.volume=a,J()},Q=function(a,b,c){a.removeClass(b),a.addClass(c)};a.fn.volume_hover=function(){a(this).each(function(){a(this).on("mouseover",function(){a(".audio-block-volume-meter").show()}).on("mouseleave",function(){a(".audio-block-volume-meter").hide()})})},a.fn.button_click=function(){a(this).on("click",function(){var b=a(this).attr("action");a(".audio-player").data("hades_audio_player")[b](a(this))})},a.fn.vertical_track=function(){a(this).on("click",function(b){var c=a(this).offset(),d=b.pageY-c.top,e=1-d/a(this).height();e=e>.9?1:e,e=e<.1?0:e,P(e)})},a.fn.horizontal_track=function(){a(this).on("click",function(b){var c=a(this).offset(),d=b.pageX-c.left,e=d/a(this).width();I(e)})},u.init()},a.fn.hades_audio_player=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.hades_audio_player(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="app_name",e=678401;a.app_name=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h)},g.foo_public_method=function(){};a.fn.bind_event=function(a){},g.init()},a.fn.app_name=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.app_name(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";var d="image_pre_loader",e=312584;a.image_pre_loader=function(b,c){var f={required:!0},g=this,h=e;g.settings={};var i=a(b),b=b,j=i.data(d+"-opts");g.init=function(){g.settings=a.extend({},f,c,j),console.log("initialised plugin "+d+" -- "+h),a(window).on("load",function(){console.log("loaded"),g.swap_images()})},g.swap_images=function(){var b=i.find("img");b.each(function(){a(this).attr("src",a(this).attr("pre"))})};a.fn.bind_event=function(a){},g.init()},a.fn.image_pre_loader=function(b){return this.each(function(){if(void 0==a(this).data(d)){var c=new a.image_pre_loader(this,b);a(this).data(d,c)}})}}(jQuery,document,window),function(a,b,c){"use strict";function d(b,c){console.log(h+" activated"),this.$el=a(b),this.$el.data(h,this),this.defaults={required:!0};var d=this.$el.data(h+"-opts");this.opts=a.extend(this.defaults,c,d),this.init()}var e,f,g,h="plugin name";d.prototype.init=function(){e=this,f=e.$el,g=e.defaults},a.fn.plugin_name=function(a){return this.each(function(){new d(this,a)})}}(jQuery,document,window);